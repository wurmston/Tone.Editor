!function(){function e(){a.containerElement=document.createElement("div"),a.containerElement.setAttribute("id","tone-editor_container"),document.body.appendChild(a.containerElement),a.hasBeenInitialized=!0}function t(e){this.element=document.createElement("div"),this.element.className="tone-editor_component",this.toneComponent=e,this.flattenedComponent=e.get(),this.parameters=[];var t={};for(parameterName in this.toneComponent)t[parameterName]=o(parameterName,this.toneComponent[parameterName]);console.log(t)}function n(t){this.hasBeenInitialized||e(),a.containerElement.appendChild(t)}function o(e,t){if(t instanceof Tone){var n={Instrument:{baseClass:Tone.Instrument,classes:["AMSynth","DuoSynth","FMSynth","Instrument","MembraneSynth","MetalSynth","MonoSynth","Monophonic","NoiseSynth","PluckSynth","PolySynth","Sampler","Synth"]},Effect:{baseClass:Tone.Effect,classes:["AutoFilter","AutoPanner","AutoWah","BitCrusher","Chebyshev","Chorus","Convolver","Distortion","Effect","FeedbackDelay","FeedbackEffect","Freeverb","JCReverb","MidSideEffect","Phaser","PingPongDelay","PitchShift","StereoEffect","StereoFeedbackEffect","StereoWidener","StereoXFeedbackEffect","Tremolo","Vibrato"]},Source:{baseClass:Tone.Source,classes:["AMOscillator","BufferSource","FMOscillator","FatOscillator","GrainPlayer","MultiPlayer","Noise","OmniOscillator","Oscillator","PWMOscillator","Player","PulseOscillator","Source","UserMedia"]},Core:{baseClass:Tone.Core,classes:["AmplitudeEnvelope","Analyser","Compressor","CrossFade","EQ3","Envelope","FeedbackCombFilter","Filter","Follower","FrequencyEnvelope","Gate","LFO","Limiter","LowpassCombFilter","Merge","Meter","MidSideCompressor","MidSideMerge","MidSideSplit","Mono","MultibandCompressor","MultibandSplit","PanVol","Panner","Panner3D","ScaledEnvelope","Split","Volume"]}};for(toneCategoryName in n){var a=n[toneCategoryName];if(t instanceof a.baseClass){for(var r={category:toneCategoryName,type:toneCategoryName},s=0;s<a.classes.length;s++)t instanceof Tone[a.classes[s]]&&(i.type=a.classes[s]);var i=t.get();if("number"!=typeof i)for(propertyName in t)i=o(propertyName,t[propertyName]);r.value=i,console.log(r)}}return r}return!1}var a={components:[],hasBeenInitialized:!1,add:function(e,o,r){for(var s=document.createDocumentFragment(),i=arguments,l=0;l<i.length;l++){console.log(arguments[l]);var c=new t(i[l]);a.components.push(c),s.appendChild(c.element)}n(s)}};Tone.Editor=a}();
function extend(s,t){for(var i in t)t.hasOwnProperty(i)&&(s[i]=t[i])}Node.prototype.hasClass=function(s){return this.classList?this.classList.contains(s):-1<this.className.indexOf(s)},Node.prototype.addClass=function(s){if(this.classList)this.classList.add(s);else if(!this.hasClass(s)){var t=this.className.split(" ");t.push(s),this.className=t.join(" ")}return this},Node.prototype.removeClass=function(s){if(this.classList)this.classList.remove(s);else{var t=this.className.split(" ");t.splice(t.indexOf(s),1),this.className=t.join(" ")}return this},Number.prototype.remap=function(s,t,i,e){var a=this;return a<s&&(a=s),a>t&&(a=t),(a-s)*(e-i)/(t-s)+i};var remap=function(s,t,i,e,a){return s<t&&(s=t),s>i&&(s=i),(s-t)*(a-e)/(i-t)+e};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkaXRvci5qcyIsImV4dHJhcy5qcyJdLCJuYW1lcyI6WyJpbml0aWFsaXplIiwiRWRpdG9yIiwiY29udGFpbmVyRWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImhhc0JlZW5Jbml0aWFsaXplZCIsIkNvbXBvbmVudCIsInRvbmVDb21wb25lbnQiLCJ0aGlzIiwiZWxlbWVudCIsImNsYXNzTmFtZSIsImZsYXR0ZW5lZENvbXBvbmVudCIsImdldCIsInBhcmFtZXRlcnMiLCJwYXJhbXMiLCJwYXJhbWV0ZXJOYW1lIiwiZ2V0VG9uZU9iamVjdEluZm8iLCJjb25zb2xlIiwibG9nIiwiaW5qZWN0VUkiLCJkb2N1bWVudEZyYWdtZW50Iiwib2JqZWN0TmFtZSIsInRoaXNUb25lT2JqZWN0IiwiVG9uZSIsInRvbmVDbGFzc2VzIiwiSW5zdHJ1bWVudCIsImJhc2VDbGFzcyIsImNsYXNzZXMiLCJFZmZlY3QiLCJTb3VyY2UiLCJDb3JlIiwidG9uZUNhdGVnb3J5TmFtZSIsInRvbmVDYXRlZ29yeSIsImluZm8iLCJjYXRlZ29yeSIsInR5cGUiLCJpIiwibGVuZ3RoIiwidmFsdWUiLCJwcm9wZXJ0eU5hbWUiLCJjb21wb25lbnRzIiwiYWRkIiwiY29tcG9uZW50MSIsImNvbXBvbmVudDIiLCJjb21wb25lbnQzIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImFyZ3VtZW50cyIsInRoaXNDb21wb25lbnQiLCJwdXNoIiwiZXh0ZW5kIiwib2JqIiwicHJvcHMiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJOb2RlIiwicHJvdG90eXBlIiwiaGFzQ2xhc3MiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImluZGV4T2YiLCJhZGRDbGFzcyIsInNwbGl0Iiwiam9pbiIsInJlbW92ZUNsYXNzIiwicmVtb3ZlIiwic3BsaWNlIiwiTnVtYmVyIiwicmVtYXAiLCJpbl9taW4iLCJpbl9tYXgiLCJv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QVNELEdBQVdFIiwiZmlsZSI6IlRvbmUuRWRpdG9yLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe1xuIHZhciBFZGl0b3IgPSB7XG4gIGNvbXBvbmVudHM6IFtdLFxuICBoYXNCZWVuSW5pdGlhbGl6ZWQ6IGZhbHNlLFxuICAvLyB0aGUgbWFpbiB1c2VyLWZhY2luZyBmdW5jdGlvblxuICBhZGQ6IGZ1bmN0aW9uKGNvbXBvbmVudDEsIGNvbXBvbmVudDIsIGNvbXBvbmVudDMpIHtcbiAgIHZhciBkb2N1bWVudEZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpXG4gICB2YXIgY29tcG9uZW50cyA9IGFyZ3VtZW50c1xuICAgZm9yKHZhciBpPTA7aTxjb21wb25lbnRzLmxlbmd0aDtpKyspIHtcbiAgICBjb25zb2xlLmxvZyhhcmd1bWVudHNbaV0pXG4gICAgdmFyIHRoaXNDb21wb25lbnQgPSBuZXcgQ29tcG9uZW50KGNvbXBvbmVudHNbaV0pXG4gICAgRWRpdG9yLmNvbXBvbmVudHMucHVzaCggdGhpc0NvbXBvbmVudCApXG4gICAgZG9jdW1lbnRGcmFnbWVudC5hcHBlbmRDaGlsZCggdGhpc0NvbXBvbmVudC5lbGVtZW50IClcbiAgIH1cbiAgIGluamVjdFVJKGRvY3VtZW50RnJhZ21lbnQpXG4gIH1cbiB9XG5cbiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICBFZGl0b3IuY29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIEVkaXRvci5jb250YWluZXJFbGVtZW50LnNldEF0dHJpYnV0ZSgnaWQnLCd0b25lLWVkaXRvcl9jb250YWluZXInKVxuICAvL2luamVjdCBzdHlsZVxuICAvL1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKEVkaXRvci5jb250YWluZXJFbGVtZW50KVxuICBFZGl0b3IuaGFzQmVlbkluaXRpYWxpemVkID0gdHJ1ZVxuIH1cblxuIC8vIGNvbnN0cnVjdG9yIGZvciBlYWNoIFVJIGNvbXBvbmVudCAob25lIHBlciBUb25lIENvbXBvbmVudClcbiBmdW5jdGlvbiBDb21wb25lbnQodG9uZUNvbXBvbmVudCkge1xuICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICB0aGlzLmVsZW1lbnQuY2xhc3NOYW1lID0gJ3RvbmUtZWRpdG9yX2NvbXBvbmVudCdcbiAgdGhpcy50b25lQ29tcG9uZW50ID0gdG9uZUNvbXBvbmVudFxuICAvL2dldCB0b3AgbGV2ZWwgYXR0cmlidXRlc1xuICB0aGlzLmZsYXR0ZW5lZENvbXBvbmVudCA9IHRvbmVDb21wb25lbnQuZ2V0KClcbiAgdGhpcy5wYXJhbWV0ZXJzID0gW11cbiAgLy8gZGlzcGxheSB0b3AgbGV2ZWwgYXR0cmlidXRlc1xuICAvLyBmb3IocGFyYW1ldGVyTmFtZSBpbiB0aGlzLmZsYXR0ZW5lZENvbXBvbmVudCkge1xuICAvLyAgdmFyIHBhcmFtZXRlciA9IHRvbmVDb21wb25lbnRbcGFyYW1ldGVyTmFtZV1cbiAgLy8gIGlmICggZXh0cmFjdGVkRGF0YS5leHBvc2UgPT09IHRydWUgKSB7IC8vIGZpbHRlciBvdXQgcGFyYW1ldGVycyB0aGF0IHNob3VsZG4ndCBiZSBleHBvc2VkXG4gIC8vICAgdmFyIHRoaXNQYXJhbWV0ZXJHVUkgPSBuZXcgUGFyYW1ldGVyR1VJKCBleHRyYWN0ZWREYXRhIClcbiAgLy8gICB0aGlzLnBhcmFtZXRlcnMucHVzaCggdGhpc1BhcmFtZXRlckdVSSApXG4gIC8vICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKCB0aGlzUGFyYW1ldGVyR1VJLmVsZW1lbnQgKVxuICAvLyAgfVxuICAvLyB9XG4gIC8vY2hlY2sgZm9yIHN1YmNvbXBvbmVudHNcbiAgdmFyIHBhcmFtcyA9IHt9XG4gIGZvciAocGFyYW1ldGVyTmFtZSBpbiB0aGlzLnRvbmVDb21wb25lbnQpIHtcbiAgICAvLyBkZXRlcm1pbmUgaWYgVG9uZVxuICAgIHBhcmFtc1twYXJhbWV0ZXJOYW1lXSA9IGdldFRvbmVPYmplY3RJbmZvKHBhcmFtZXRlck5hbWUsIHRoaXMudG9uZUNvbXBvbmVudFtwYXJhbWV0ZXJOYW1lXSlcbiAgfVxuICBjb25zb2xlLmxvZyhwYXJhbXMpXG4gfVxuXG4gLy8gY29uc3RydWN0b3IgZm9yIGVhY2ggVG9uZUNvbXBvbmVudCBwYXJhbWV0ZXIgKGkuZS4gb25lIGZvciBlYWNoIEluc3RydW1lbnQgcGFyYW1ldGVyKS4gcmV0dXJucyBhbiBvYmplY3Qgd2l0aCBlbGVtZW50cyB0aGF0IGNhbiBiZSBhcHBlbmRlZCB0byBhIGRvbSBmcmFnbWVudCBhbmQgYWRkZWRcbiBmdW5jdGlvbiBQYXJhbWV0ZXJHVUkoIGV4dHJhY3RlZERhdGEgKSB7XG4gIHRoaXMuVG9uZVBhcmFtID0gZXh0cmFjdGVkRGF0YS5vcmlnaW5hbE9iamVjdFxuICB0aGlzLnR5cGUgPSBleHRyYWN0ZWREYXRhLnR5cGVcbiAgdGhpcy52YWx1ZSA9IGV4dHJhY3RlZERhdGEudmFsdWVcbiAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgPSAndG9uZS1lZGl0b3JfcGFyYW1ldGVyLWd1aSAnK3RoaXMudHlwZVxuICB2YXIgaW5uZXJUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocGFyYW1ldGVyTmFtZSsnOiAnK3RoaXMudmFsdWUpXG4gIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChpbm5lclRleHQpXG4gfVxuXG4gLy8gbWFpbiBpbml0IGZ1bmN0aW9uLiBidWlsZHMgZG9tIGVsZW1lbnRzIGFuZCBpbmplY3RzIHRoZW0gaW50byBwYWdlXG4gZnVuY3Rpb24gaW5qZWN0VUkoZG9jdW1lbnRGcmFnbWVudCkge1xuICBpZiAoIXRoaXMuaGFzQmVlbkluaXRpYWxpemVkKSB7XG4gICBpbml0aWFsaXplKClcbiAgfVxuICBFZGl0b3IuY29udGFpbmVyRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudEZyYWdtZW50KVxuIH1cblxuIC8vZXh0cmEgYml0c1xuIGZ1bmN0aW9uIGlzRnVuY3Rpb24oIHZhbCApIHtcbiAgIHJldHVybiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nO1xuIH1cblxuZnVuY3Rpb24gZ2V0VG9uZU9iamVjdEluZm8ob2JqZWN0TmFtZSwgdGhpc1RvbmVPYmplY3QpIHtcbiAgaWYgKHRoaXNUb25lT2JqZWN0IGluc3RhbmNlb2YgVG9uZSkge1xuXG4gICAgLy8gY2hlY2sgYWdhaW5zdCBtYW55IFRvbmUgQ2xhc3Nlc1xuXG4gICAgdmFyIHRvbmVDbGFzc2VzID0geyAvL2NvcGllZCBmcm9tIGRvY3NcbiAgICAgSW5zdHJ1bWVudDoge1xuICAgICAgIGJhc2VDbGFzczogVG9uZS5JbnN0cnVtZW50LFxuICAgICAgIGNsYXNzZXM6IFtcIkFNU3ludGhcIiwgXCJEdW9TeW50aFwiLCBcIkZNU3ludGhcIiwgXCJJbnN0cnVtZW50XCIsIFwiTWVtYnJhbmVTeW50aFwiLCBcIk1ldGFsU3ludGhcIiwgXCJNb25vU3ludGhcIiwgXCJNb25vcGhvbmljXCIsIFwiTm9pc2VTeW50aFwiLCBcIlBsdWNrU3ludGhcIiwgXCJQb2x5U3ludGhcIiwgXCJTYW1wbGVyXCIsIFwiU3ludGhcIl0sXG4gICAgIH0sXG4gICAgIEVmZmVjdDoge1xuICAgICAgIGJhc2VDbGFzczogVG9uZS5FZmZlY3QsXG4gICAgICAgY2xhc3NlczogW1wiQXV0b0ZpbHRlclwiLCBcIkF1dG9QYW5uZXJcIiwgXCJBdXRvV2FoXCIsIFwiQml0Q3J1c2hlclwiLCBcIkNoZWJ5c2hldlwiLCBcIkNob3J1c1wiLCBcIkNvbnZvbHZlclwiLCBcIkRpc3RvcnRpb25cIiwgXCJFZmZlY3RcIiwgXCJGZWVkYmFja0RlbGF5XCIsIFwiRmVlZGJhY2tFZmZlY3RcIiwgXCJGcmVldmVyYlwiLCBcIkpDUmV2ZXJiXCIsIFwiTWlkU2lkZUVmZmVjdFwiLCBcIlBoYXNlclwiLCBcIlBpbmdQb25nRGVsYXlcIiwgXCJQaXRjaFNoaWZ0XCIsIFwiU3RlcmVvRWZmZWN0XCIsIFwiU3RlcmVvRmVlZGJhY2tFZmZlY3RcIiwgXCJTdGVyZW9XaWRlbmVyXCIsIFwiU3RlcmVvWEZlZWRiYWNrRWZmZWN0XCIsIFwiVHJlbW9sb1wiLCBcIlZpYnJhdG9cIl0sXG4gICAgIH0sXG4gICAgIFNvdXJjZToge1xuICAgICAgIGJhc2VDbGFzczogVG9uZS5Tb3VyY2UsXG4gICAgICAgY2xhc3NlczogW1wiQU1Pc2NpbGxhdG9yXCIsIFwiQnVmZmVyU291cmNlXCIsIFwiRk1Pc2NpbGxhdG9yXCIsIFwiRmF0T3NjaWxsYXRvclwiLCBcIkdyYWluUGxheWVyXCIsIFwiTXVsdGlQbGF5ZXJcIiwgXCJOb2lzZVwiLCBcIk9tbmlPc2NpbGxhdG9yXCIsIFwiT3NjaWxsYXRvclwiLCBcIlBXTU9zY2lsbGF0b3JcIiwgXCJQbGF5ZXJcIiwgXCJQdWxzZU9zY2lsbGF0b3JcIiwgXCJTb3VyY2VcIiwgXCJVc2VyTWVkaWFcIl0sXG4gICAgIH0sXG4gICAgIENvcmU6IHtcbiAgICAgICBiYXNlQ2xhc3M6IFRvbmUuQ29yZSxcbiAgICAgICBjbGFzc2VzOiBbICdBbXBsaXR1ZGVFbnZlbG9wZScsICAnQW5hbHlzZXInLCAgJ0NvbXByZXNzb3InLCAgJ0Nyb3NzRmFkZScsICAnRVEzJywgICdFbnZlbG9wZScsICAnRmVlZGJhY2tDb21iRmlsdGVyJywgICdGaWx0ZXInLCAgJ0ZvbGxvd2VyJywgICdGcmVxdWVuY3lFbnZlbG9wZScsICAnR2F0ZScsICAnTEZPJywgICdMaW1pdGVyJywgICdMb3dwYXNzQ29tYkZpbHRlcicsICAnTWVyZ2UnLCAgJ01ldGVyJywgICdNaWRTaWRlQ29tcHJlc3NvcicsICAnTWlkU2lkZU1lcmdlJywgICdNaWRTaWRlU3BsaXQnLCAnTW9ubycsICAnTXVsdGliYW5kQ29tcHJlc3NvcicsICAnTXVsdGliYW5kU3BsaXQnLCAgJ1BhblZvbCcsICAnUGFubmVyJywgICdQYW5uZXIzRCcsICAnU2NhbGVkRW52ZWxvcGUnLCAgJ1NwbGl0JywgICdWb2x1bWUnIF1cbiAgICAgfVxuICAgIH1cblxuICAgIGZvciAodG9uZUNhdGVnb3J5TmFtZSBpbiB0b25lQ2xhc3Nlcykge1xuICAgICAgdmFyIHRvbmVDYXRlZ29yeSA9IHRvbmVDbGFzc2VzW3RvbmVDYXRlZ29yeU5hbWVdXG4gICAgICBpZiAodGhpc1RvbmVPYmplY3QgaW5zdGFuY2VvZiB0b25lQ2F0ZWdvcnkuYmFzZUNsYXNzKSB7XG4gICAgICAgIHZhciBpbmZvID0ge1xuICAgICAgICAgY2F0ZWdvcnk6IHRvbmVDYXRlZ29yeU5hbWUsXG4gICAgICAgICB0eXBlOiB0b25lQ2F0ZWdvcnlOYW1lLCAvLyBzaWduYWwsIGZ1bmN0aW9uLCBudW1iZXJcbiAgICAgICAgLy8gIHZhbHVlOiB0aGlzVG9uZU9iamVjdC5nZXQoKVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGk9MDtpPHRvbmVDYXRlZ29yeS5jbGFzc2VzLmxlbmd0aDtpKyspIHtcbiAgICAgICAgICBpZiAodGhpc1RvbmVPYmplY3QgaW5zdGFuY2VvZiBUb25lW3RvbmVDYXRlZ29yeS5jbGFzc2VzW2ldXSApIHZhbHVlLnR5cGUgPSB0b25lQ2F0ZWdvcnkuY2xhc3Nlc1tpXVxuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXNUb25lT2JqZWN0LmdldCgpXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgZm9yIChwcm9wZXJ0eU5hbWUgaW4gdGhpc1RvbmVPYmplY3QpIHtcbiAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZSwgaG9sZCBvbiB0byB1ciBoYXRcbiAgICAgICAgICAgIHZhbHVlID0gZ2V0VG9uZU9iamVjdEluZm8ocHJvcGVydHlOYW1lLCB0aGlzVG9uZU9iamVjdFtwcm9wZXJ0eU5hbWVdKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbmZvLnZhbHVlID0gdmFsdWVcbiAgICAgICAgY29uc29sZS5sb2coaW5mbylcbiAgICAgIH1cblxuICAgIH1cbiAgICByZXR1cm4gaW5mb1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cblxuIC8vIGV4dHJhY3QgdmFsdWUgb2YgcGFyYW1ldGVyLiByZXR1cm4gdW5kZWZpbmVkIGlmIGludmFsaWRcbiAvLyBmdW5jdGlvbiBleHRyYWN0dGhpc1RvbmVPYmplY3QoIHBhcmFtZXRlck5hbWUsIHRoaXNUb25lT2JqZWN0ICkge1xuIC8vICB2YXIgdmFsdWUgPSB7XG4gLy8gICBleHBvc2U6IGZhbHNlLFxuIC8vICAgdHlwZTogJycsIC8vIHNpZ25hbCwgZnVuY3Rpb24sIG51bWJlclxuIC8vICAgdmFsdWU6IHVuZGVmaW5lZFxuIC8vICB9XG4gLy8gIGlmIChwYXJhbWV0ZXJOYW1lLmluZGV4T2YoJ18nKSAhPT0gLTEpIHtcbiAvLyAgIHZhbHVlID0ge1xuIC8vICAgIGV4cG9zZTogZmFsc2UsXG4gLy8gICAgdHlwZTogJ2ludGVybmFsJywgLy8gc2lnbmFsLCBmdW5jdGlvbiwgbnVtYmVyXG4gLy8gICAgdmFsdWU6IHVuZGVmaW5lZFxuIC8vICAgfVxuIC8vICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24odGhpc1RvbmVPYmplY3QpKSB7XG4gLy8gICB2YWx1ZSA9IHtcbiAvLyAgICBleHBvc2U6IGZhbHNlLFxuIC8vICAgIHR5cGU6ICdGdW5jdGlvbicsIC8vIHNpZ25hbCwgZnVuY3Rpb24sIG51bWJlclxuIC8vICAgIHZhbHVlOiB1bmRlZmluZWRcbiAvLyAgIH1cbiAvLyAgfSBlbHNlIGlmICh0eXBlb2YgdGhpc1RvbmVPYmplY3QgPT09ICdudW1iZXInKSB7XG4gLy8gICB2YWx1ZSA9IHtcbiAvLyAgICBleHBvc2U6IHRydWUsXG4gLy8gICAgdHlwZTogJ251bWJlcicsIC8vIHNpZ25hbCwgZnVuY3Rpb24sIG51bWJlclxuIC8vICAgIHZhbHVlOiB0aGlzVG9uZU9iamVjdFxuIC8vICAgfVxuIC8vICB9IGVsc2UgaWYgKHRoaXNUb25lT2JqZWN0IGluc3RhbmNlb2YgVG9uZS5QYXJhbSkge1xuIC8vICAgdmFsdWUgPSB7XG4gLy8gICAgZXhwb3NlOiB0cnVlLFxuIC8vICAgIHR5cGU6ICdQYXJhbScsIC8vIHNpZ25hbCwgZnVuY3Rpb24sIG51bWJlclxuIC8vICAgIHZhbHVlOiB0aGlzVG9uZU9iamVjdC52YWx1ZSxcbiAvLyAgICB1bml0czogdGhpc1RvbmVPYmplY3QudW5pdHNcbiAvLyAgIH1cbiAvLyAgfSBlbHNlIGlmICh0aGlzVG9uZU9iamVjdCBpbnN0YW5jZW9mIFRvbmUuRWZmZWN0KSB7XG4gLy8gICB2YWx1ZSA9IHtcbiAvLyAgICBleHBvc2U6IHRydWUsXG4gLy8gICAgdHlwZTogJ0VmZmVjdCcsIC8vIHNpZ25hbCwgZnVuY3Rpb24sIG51bWJlclxuIC8vICAgIHZhbHVlOiB0aGlzVG9uZU9iamVjdC52YWx1ZSxcbiAvLyAgICB1bml0czogdGhpc1RvbmVPYmplY3QudW5pdHNcbiAvLyAgIH1cbiAvLyAgfSBlbHNlIGlmICh0aGlzVG9uZU9iamVjdCBpbnN0YW5jZW9mIFRvbmUuSW5zdHJ1bWVudCkge1xuIC8vICAgdmFsdWUgPSB7XG4gLy8gICAgZXhwb3NlOiB0cnVlLFxuIC8vICAgIHR5cGU6ICdJbnN0cnVtZW50JywgLy8gc2lnbmFsLCBmdW5jdGlvbiwgbnVtYmVyXG4gLy8gICAgdmFsdWU6IHRoaXNUb25lT2JqZWN0LnZhbHVlLFxuIC8vICAgIHVuaXRzOiB0aGlzVG9uZU9iamVjdC51bml0c1xuIC8vICAgfVxuIC8vICB9IGVsc2UgaWYgKHRoaXNUb25lT2JqZWN0IGluc3RhbmNlb2YgQXVkaW9QYXJhbSkge1xuIC8vICAgdmFsdWUgPSB7XG4gLy8gICAgZXhwb3NlOiB0cnVlLFxuIC8vICAgIHR5cGU6ICdBdWRpb1BhcmFtJywgLy8gc2lnbmFsLCBmdW5jdGlvbiwgbnVtYmVyXG4gLy8gICAgdmFsdWU6IHRoaXNUb25lT2JqZWN0LnZhbHVlXG4gLy8gICB9XG4gLy8gIC8vIH0gZWxzZSBpZiAodHlwZW9mIHRoaXNUb25lT2JqZWN0ID09PSAnb2JqZWN0Jyl7IC8vbm90IHNpZ25hbCBvciBhdWRpb3BhcmFtIGJ1dCBhIFRvbmUgY29tcG9uZW50XG4gLy8gICAvLyB2YWx1ZSA9IHtcbiAvLyAgIC8vICBleHBvc2U6IHRydWUsXG4gLy8gICAvLyAgdHlwZTogJ09iamVjdCcsIC8vIHNpZ25hbCwgZnVuY3Rpb24sIG51bWJlclxuIC8vICAgLy8gIHZhbHVlOiB0aGlzVG9uZU9iamVjdC52YWx1ZVxuIC8vICAgLy8gfVxuIC8vICAgLy8gLy8gaXRlcmF0ZSBvbmUgbGF5ZXIgZGVlcGVyXG4gLy8gICAvLyBmb3IgKHBhcmFtZXRlck5hbWUyIGluIHRoaXNUb25lT2JqZWN0KSB7XG4gLy8gICAvLyAgaWYgKHBhcmFtZXRlcilcbiAvLyAgIC8vICB2YXIgbmVzdGVkVmFsdWUgPSBleHRyYWN0dGhpc1RvbmVPYmplY3QocGFyYW1ldGVyTmFtZTIsIHRoaXNUb25lT2JqZWN0W3BhcmFtZXRlck5hbWUyXSlcbiAvLyAgIC8vIH1cbiAvL1xuIC8vXG4gLy8gIH1cbiAvLyAgdmFsdWUubmFtZSA9IHBhcmFtZXRlck5hbWVcbiAvLyAgdmFsdWUub3JpZ2luYWxPYmplY3QgPSB0aGlzVG9uZU9iamVjdFxuIC8vICBpZiAodmFsdWUudHlwZSAhPT0gJ0Z1bmN0aW9uJykgY29uc29sZS5sb2codmFsdWUpXG4gLy8gIHJldHVybiB2YWx1ZVxuIC8vIH1cblxuXG4gVG9uZS5FZGl0b3IgPSBFZGl0b3Jcbn0pKClcbiIsIi8vIEFERCAvIFJFTU9WRSAvIEhBUyBDTEFTUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuTm9kZS5wcm90b3R5cGUuaGFzQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgaWYgKHRoaXMuY2xhc3NMaXN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoLTEgPCB0aGlzLmNsYXNzTmFtZS5pbmRleE9mKGNsYXNzTmFtZSkpO1xuICAgIH1cbn07XG5cbk5vZGUucHJvdG90eXBlLmFkZENsYXNzID0gZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgIGlmICh0aGlzLmNsYXNzTGlzdCkge1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmhhc0NsYXNzKGNsYXNzTmFtZSkpIHtcbiAgICAgICAgdmFyIGNsYXNzZXMgPSB0aGlzLmNsYXNzTmFtZS5zcGxpdChcIiBcIik7XG4gICAgICAgIGNsYXNzZXMucHVzaChjbGFzc05hbWUpO1xuICAgICAgICB0aGlzLmNsYXNzTmFtZSA9IGNsYXNzZXMuam9pbihcIiBcIik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufTtcblxuTm9kZS5wcm90b3R5cGUucmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgaWYgKHRoaXMuY2xhc3NMaXN0KSB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjbGFzc2VzID0gdGhpcy5jbGFzc05hbWUuc3BsaXQoXCIgXCIpO1xuICAgICAgICBjbGFzc2VzLnNwbGljZShjbGFzc2VzLmluZGV4T2YoY2xhc3NOYW1lKSwgMSk7XG4gICAgICAgIHRoaXMuY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKFwiIFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBOVU1CRVIgUkVNQVBcbk51bWJlci5wcm90b3R5cGUucmVtYXAgPSBmdW5jdGlvbiAoIGluX21pbiAsIGluX21heCAsIG91dF9taW4gLCBvdXRfbWF4ICkge1xuICB2YXIgeCA9IHRoaXNcblx0aWYgKHggPCBpbl9taW4pIHsgeCA9IGluX21pbiB9XG5cdGlmICh4ID4gaW5fbWF4KSB7IHggPSBpbl9tYXggfVxuICBcdHJldHVybiAoIHggLSBpbl9taW4gKSAqICggb3V0X21heCAtIG91dF9taW4gKSAvICggaW5fbWF4IC0gaW5fbWluICkgKyBvdXRfbWluO1xufVxuXG52YXIgcmVtYXAgPSBmdW5jdGlvbiAoeCwgaW5fbWluICwgaW5fbWF4ICwgb3V0X21pbiAsIG91dF9tYXggKSB7XG5cdGlmICh4IDwgaW5fbWluKSB7IHggPSBpbl9taW4gfVxuXHRpZiAoeCA+IGluX21heCkgeyB4ID0gaW5fbWF4IH1cbiAgXHRyZXR1cm4gKCB4IC0gaW5fbWluICkgKiAoIG91dF9tYXggLSBvdXRfbWluICkgLyAoIGluX21heCAtIGluX21pbiApICsgb3V0X21pbjtcbn1cblxuXG5mdW5jdGlvbiBleHRlbmQob2JqLCBwcm9wcykge1xuICAgIGZvcih2YXIgcHJvcCBpbiBwcm9wcykge1xuICAgICAgICBpZihwcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgb2JqW3Byb3BdID0gcHJvcHNbcHJvcF07XG4gICAgICAgIH1cbiAgICB9XG59XG4iXX0=
